{"version":3,"sources":["webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/index/binding.vue?2a86","webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/index/binding.vue?9f54","webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/index/binding.vue?5bad","uni-app:///main.js","webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/index/binding.vue?9481","webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/index/binding.vue?9ef8","webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/index/binding.vue?3c5a","webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/index/binding.vue?90ce","uni-app:///pages/index/binding.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","inArray","index","address","lydeviceId","children_name","aswitch","deviceId","ipment","stateid","lyswitch","user_phone","record","debounce","interval","jsq","onReady","onLoad","onShow","onHide","clearInterval","onUnload","methods","climask","obtain","connect","console","that","chronology","uni","success","title","icon","duration","mitlog","url","method","phone","connectDevice","fail","type","findBlue","allowDuplicatesKey","getBlue","connetBlue","App","testing","closeBle"],"mappings":"oHAAA,yHAAojD,eAAG,G,uDCAvjD,yHAAksC,eAAG,G,uDCArsC,yHAA4kD,eAAG,G,gFCA/kD,MAGA,aACA,WAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,+ECLX,gJACIC,EADJ,QAWIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,0BACZ,aAAAF,E,yCCzBf,sQ,gCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,gCCRvB,wHAAq1B,eAAG,G,qHC0Ix1B,CACAC,gBACA,OACAC,WACAC,QACAC,WACAC,cACAC,iBACAC,WACAC,YACAC,UACAC,WACAC,YACAC,cACAC,SACAC,YACAC,YACAC,QAGAC,qBAEAC,oBAGAC,kBACA,eAEAC,kBACAC,8BAEAC,oBACAD,8BAEAE,SACAC,mBACA,kBAEAC,kBACA,cACA,sCACA,gBACA,+CACA,eACA,mCAEAC,mBACA,SAGA,mBAEA,CACA,WACAC,kCACA,aACAC,WACAA,cACAA,wBAPA,kBAYAC,sBACA,WAGA,0BAKA,GAJAD,WACA,cACAP,iBAEA,4BACAA,iBACAO,WACAE,iCACAC,oBACAJ,uBAGAG,aACAE,wBACAC,YACAC,eAEAN,cACA,mCAEA,GADAD,uBACA,KACAG,mCACAA,kCACAF,gBACAA,iBACAE,mCACA,CACA,UACAH,oCACAG,mCAGA,KACAF,cAGAO,kBAAA,WACA,0CAIA,uBACAC,qBACAC,aACApC,MACAqC,yBAEA,kBACA,uBAEAX,uCACA,oCACA,qCACA,gDACA,wEACA,+CACA,mBAEA,6EAGA,wEAEA,iBAzBA,oCA6BAY,yBACA,WACAZ,mBACAG,wBAEAC,oBACAH,cAEAY,iBAEAV,aACAE,cACAS,aACAR,cAEAL,WACAA,kBAKAc,oBACA,WACAd,eACAD,mBACAG,kCAEAa,sBACA5B,WACAgB,oBACAD,eACAE,iBAEAJ,aAEAY,iBACA,WACAZ,WACAA,kBAOAgB,mBACA,WACAjB,8BAEAG,qCACAA,uBACAC,oBACA,mCACA,mCACAH,0BAIAY,gBACA,WACAZ,WACAA,cACAA,uCAMAiB,sBACAlB,mBACA,WACAG,uBACAtB,oBACAuB,oBACAD,aACAE,aACAC,aACAC,eAGA,eACAY,uBACAlB,YACAE,iCACAC,oBACAJ,iCAGAC,WACAA,cACAA,aAGAY,gBACAZ,WACAA,kBAKAmB,mBACApB,mBACA,WACAG,0CACA,mBACAF,WACAA,cACAA,4BACA,eACAkB,uBACAlB,iBAKAoB,oBACArB,mBACA,WACAG,sBACAtB,oBACAuB,oBACAH,WACAA,cACA,eACAkB,uBACAlB,kBAMA,c","file":"pages/index/binding.js","sourcesContent":["import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./binding.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./binding.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./binding.vue?vue&type=style&index=2&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./binding.vue?vue&type=style&index=2&lang=css&\"","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./binding.vue?vue&type=style&index=3&id=47485a9f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./binding.vue?vue&type=style&index=3&id=47485a9f&lang=scss&scoped=true&\"","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/binding.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./binding.vue?vue&type=template&id=47485a9f&scoped=true&\"\nvar renderjs\nimport script from \"./binding.vue?vue&type=script&lang=js&\"\nexport * from \"./binding.vue?vue&type=script&lang=js&\"\nimport style0 from \"./binding.vue?vue&type=style&index=0&lang=scss&\"\nimport style2 from \"./binding.vue?vue&type=style&index=2&lang=css&\"\nimport style3 from \"./binding.vue?vue&type=style&index=3&id=47485a9f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47485a9f\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/binding.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./binding.vue?vue&type=template&id=47485a9f&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./binding.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./binding.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\r\n\t.bottom-frame {\r\n\t\twidth: 100%;\r\n\t\theight: 600rpx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: white;\r\n\t\tborder-top-right-radius: 15rpx;\r\n\t\tborder-top-left-radius: 15rpx;\r\n\t}\r\n\r\n\t.sign {\r\n\t\twidth: 690rpx;\r\n\t\theight: 532rpx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tborder-radius: 30rpx;\r\n\t\tmargin: 30rpx auto;\r\n\t\toverflow: hidden;\r\n\r\n\t\t.title {\r\n\t\t\tmargin: 54rpx auto 0 auto;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 34rpx;\r\n\t\t\tfont-family: Source Han Sans CN;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tcolor: #333333;\r\n\t\t}\r\n\r\n\t\t.tion {\r\n\t\t\twidth: 600rpx;\r\n\t\t\theight: auto;\r\n\t\t\tmargin: 39rpx auto 63rpx auto;\r\n\r\n\t\t\tview {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tfont-family: Source Han Sans CN;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tcolor: #333333;\r\n\t\t\t}\r\n\r\n\t\t\tinput {\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\twidth: 600rpx;\r\n\t\t\t\tborder-bottom: 1px solid #DCDCDC;\r\n\t\t\t\t;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tfont-family: Source Han Sans CN;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tcolor: #BBBBBB;\r\n\t\t\t\tmargin-top: 6rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.tagging {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tfont-family: Source Han Sans CN;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tcolor: #FF1E30;\r\n\t\t\t\tmargin-top: 23rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.mask {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbackground-color: black;\r\n\t\topacity: .3;\r\n\t}\r\n\t\r\n\t.button-ion {\r\n\t\twidth: 690rpx;\r\n\t\theight: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 80rpx;\r\n\t\tborder: 0;\r\n\t\tmargin: 0rpx auto;\r\n\t\tbackground: #ECD91D;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n</style>\r\n<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"main-wrap\">\r\n\t\t\t<image src=\"../../static/index/16.png\" mode=\"aspectFill\" class=\"image1\" v-if=\"stateid == 2\"></image>\r\n\t\t\t<image src=\"../../static/index/23.png\" mode=\"aspectFill\" class=\"image1\" v-if=\"stateid == 1\"></image>\r\n\t\t\t<view class=\"name\">{{ipment}}</view>\r\n\t\t\t<view class=\"two\" v-if=\"stateid == 1\">\r\n\t\t\t\t<image src=\"../../static/index/24.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<view style=\"color: #999999;\">已断开</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"two\" v-if=\"stateid == 2\">\r\n\t\t\t\t<image src=\"../../static/index/17.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<view>已连接</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"three\" @click=\"connect()\" v-if=\"stateid == 1\">\r\n\t\t\t\t<view>连接蓝牙</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"three\"@click=\"closeBle()\" v-if=\"stateid == 2\" style=\"color: #32529B;\">\r\n\t\t\t\t<view>断开连接</view>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"color: red;margin-top: 26rpx;font-size: 23rpx;\">\r\n\t\t\t\t<view>请开启蓝牙和定位后进行连接</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<image src=\"../../static/index/15.png\" mode=\"aspectFill\" class=\"image-bottom\"></image>\r\n\t\t<view v-for=\"(item,index) in inArray\" :key=\"index\" @click=\"createBLEConnection(item)\"\r\n\t\t\tstyle=\"display: flex;justify-content: space-between;width: 100%;height: auto;\">\r\n\t\t\t<view>\r\n\t\t\t\tname:{{item.name}}\r\n\t\t\t</view>\r\n\t\t\t<view>\r\n\t\t\t\tdeviceId:{{item.deviceId}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t<view class=\"mask\" v-if=\"lyswitch\" @click=\"climask()\"></view>\r\n\t\t<view class=\"bottom-frame\" v-if=\"lyswitch\">\r\n\t\t\t<view class=\"sign\">\r\n\t\t\t\t<view class=\"title\">请在下方输入手机号查询</view>\r\n\t\t\t\t<view class=\"tion\">\r\n\t\t\t\t\t<view class=\"tion1\">手机号</view>\r\n\t\t\t\t\t<input class=\"tion2\" type=\"text\" v-model=\"user_phone\" placeholder=\"请输入绑定的手机号\"\r\n\t\t\t\t\t\tplaceholder-style=\"font-size: 28rpx;font-family: Source Han Sans CN;font-weight: 400;color: #BBBBBB;\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<button class=\"button-ion\" @click=\"mitlog()\">查询</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tinArray: [],\r\n\t\t\t\tindex: 0,\r\n\t\t\t\taddress: '',\r\n\t\t\t\tlydeviceId: \"\", //蓝牙眼镜地址\r\n\t\t\t\tchildren_name: \"\", //儿童姓名\r\n\t\t\t\taswitch: true, //输入儿童姓名显示隐藏\r\n\t\t\t\tdeviceId: \"\",\r\n\t\t\t\tipment:\"\",\r\n\t\t\t\tstateid:\"\",\r\n\t\t\t\tlyswitch:false,\r\n\t\t\t\tuser_phone:\"\",\r\n\t\t\t\trecord:1,\r\n\t\t\t\tdebounce:true,//节流\r\n\t\t\t\tinterval:\"\",//计时器\r\n\t\t\t\tjsq:1,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady(){\r\n\t\t},\r\n\t\tonLoad() {\r\n\r\n\t\t},\r\n\t\tonShow(){\r\n\t\t\tthis.obtain();\r\n\t\t},\r\n\t\tonHide(){\r\n\t\t\tclearInterval(this.interval);\r\n\t\t},\r\n\t\tonUnload(){\r\n\t\t\tclearInterval(this.interval);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tclimask(){\r\n\t\t\t\tthis.lyswitch = false;\r\n\t\t\t},\r\n\t\t\tobtain(){\r\n\t\t\t\tthis.record = 1;\r\n\t\t\t\tvar mac = uni.getStorageSync('mac_address');\r\n\t\t\t\tthis.deviceId = mac;\r\n\t\t\t\tthis.user_phone = uni.getStorageSync(\"user_phone\");\r\n\t\t\t\tvar App = getApp();\r\n\t\t\t\tthis.stateid = App.globalData.stateid;\r\n\t\t\t},\r\n\t\t\tconnect() {\r\n\t\t\t\tvar App = getApp();\r\n\t\t\t\tvar bledeviceId;\r\n\t\t\t\t//缓存里没有手机号的情况\r\n\t\t\t\tif(!this.user_phone){\r\n\t\t\t\t\t\tthis.lyswitch = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tconsole.log(that.debounce,\"未进入if判断\");\r\n\t\t\t\t\t\tif(that.debounce){\r\n\t\t\t\t\t\t\tthat.record = 1;\r\n\t\t\t\t\t\t\tthat.debounce = false;\r\n\t\t\t\t\t\t\tthat.connectDevice();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//15秒为连接提醒用户重连\r\n\t\t\tchronology(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t// var App = getApp();\r\n\t\t\t\t// var intvalid = App.globalData.stateid;\r\n\t\t\t\t\tvar interval = setInterval(()=>{\r\n\t\t\t\t\t\tthat.record++;\r\n\t\t\t\t\t\tif(that.stateid == 2){\r\n\t\t\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(that.record >= 15 && that.stateid != 2){\r\n\t\t\t\t\t\t\tclearInterval(interval); \r\n\t\t\t\t\t\t\tthat.record = 1;\r\n\t\t\t\t\t\t\tuni.stopBluetoothDevicesDiscovery({\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('连接失败');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:\"请折起静腿并重新打开后再次连接\",\r\n\t\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\t\tduration:5000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthat.debounce = true;\r\n\t\t\t\t\t\t\tlet con= uni.getStorageSync('counting');\r\n\t\t\t\t\t\t\tconsole.log(\"外部con\",con);\r\n\t\t\t\t\t\t\tif(con >= 2){\r\n\t\t\t\t\t\t\t\tuni.removeStorageSync(\"mac_address\");\r\n\t\t\t\t\t\t\t\tuni.removeStorageSync(\"user_phone\")\r\n\t\t\t\t\t\t\t\tthat.user_phone = \"\";\r\n\t\t\t\t\t\t\t\tthat.mac_address = \"\";\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('counting',1);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tlet unt = con + 1;\r\n\t\t\t\t\t\t\t\tconsole.log(unt,\"unt--->counting\");\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('counting',unt);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},1000)\r\n\t\t\t\t\tthat.interval = interval;\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tmitlog(){\r\n\t\t\t\tif(!/^1[3456789]\\d{9}$/.test(this.user_phone)){\r\n\t\t\t\t\tthis.$common.showToast(\"请输入正确手机号\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$http.glassesEst({\r\n\t\t\t\t\turl: \"users/children\",\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tphone: this.user_phone\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.status == 200) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log('=已绑定过列表========>',res.data)\r\n\t\t\t\t\t\tvar len = res.data.data.children.length - 1;\r\n\t\t\t\t\t\tif(res.data.data.children[len].mac_address){\r\n\t\t\t\t\t\t\tthis.$common.setStorage(\"user_phone\",this.user_phone);\r\n\t\t\t\t\t\t\tthis.$common.setStorage(\"mac_address\",res.data.data.children[len].mac_address);\r\n\t\t\t\t\t\t\tthis.deviceId = res.data.data.children[len].mac_address;\r\n\t\t\t\t\t\t\tthis.connectDevice();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$common.navigator(\"/pages/lanya/blebinding?user_phone=\"+ this.user_phone);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$common.navigator(\"/pages/lanya/blebinding?user_phone=\"+ this.user_phone);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.lyswitch = false;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//初始化蓝牙适配器\r\n\t\t\tconnectDevice() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconsole.log(\"进入1\")\r\n\t\t\t\tuni.openBluetoothAdapter({\r\n\t\t\t\t\t//调用微信小程序api 打开蓝牙适配器接口\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.findBlue();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t//如果手机上的蓝牙没有打开，可以提醒用户\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '请打开蓝牙',\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.record = 1;\r\n\t\t\t\t\t\tthat.debounce = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//搜索设备\r\n\t\t\tfindBlue() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.chronology();\r\n\t\t\t\tconsole.log(\"进入2\")\r\n\t\t\t\tuni.startBluetoothDevicesDiscovery({\r\n\t\t\t\t\t// services:'',  要搜索的蓝牙设备主 service 的 uuid 列表。某些蓝牙设备会广播自己的主 service 的 uuid。如果设置此参数，则只搜索广播包有对应 uuid 的主服务的蓝牙设备。建议主要通过该参数过滤掉周边不需要处理的其他蓝牙设备。\r\n\t\t\t\t\tallowDuplicatesKey: false,\r\n\t\t\t\t\tinterval: 0,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: '正在搜索设备'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.getBlue();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail:function(res){\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tthat.record = 1;\r\n\t\t\t\t\t\tthat.debounce = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\r\n\r\n\t\t\tgetBlue() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconsole.log(\"进入3\", that.deviceId);\r\n\t\t\t\t//uni.getBluetoothDevices获取在蓝牙模块生效期间所有已发现的蓝牙设备。包括已经和本机处于连接状态的设备\r\n\t\t\t\tuni.onBluetoothDeviceFound(() => {\r\n\t\t\t\t\tuni.getBluetoothDevices({\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tfor (var i = 0; i < res.devices.length; i++) {\r\n\t\t\t\t\t\t\t\tif (res.devices[i].deviceId == that.deviceId) {\r\n\t\t\t\t\t\t\t\t\tthat.connetBlue(that.deviceId);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\t\tthat.record = 1;\r\n\t\t\t\t\t\t\tthat.debounce = true;\r\n\t\t\t\t\t\t\tthat.$common.showToast('搜索蓝牙设备失败');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//根据设备id连接设备\r\n\t\t\tconnetBlue() {\r\n\t\t\t\tconsole.log(\"进入4\")\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.createBLEConnection({\r\n\t\t\t\t\tdeviceId: that.deviceId, //设备id\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '连接成功',\r\n\t\t\t\t\t\t\ticon: 'fails',\r\n\t\t\t\t\t\t\tduration: 800\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//蓝牙连接成功，将值该外2\r\n\t\t\t\t\t\tvar App = getApp();\r\n\t\t\t\t\t    App.globalData.stateid = 2;\r\n\t\t\t\t\t\tthat.stateid = 2;\r\n\t\t\t\t\t\tuni.stopBluetoothDevicesDiscovery({\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tconsole.log('连接蓝牙成功之后关闭蓝牙搜索');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.record = 1;\r\n\t\t\t\t\t\tthat.debounce = true;\r\n\t\t\t\t\t\tthat.testing();\r\n\t\t\t\t\t\t// that.getServiceId();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail:function(){\r\n\t\t\t\t\t\tthat.record = 1;\r\n\t\t\t\t\t\tthat.debounce = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//蓝牙异常断开\r\n\t\t\ttesting() {\r\n\t\t\t\tconsole.log(\"进入5\")\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.onBLEConnectionStateChange(function(res) {\r\n\t\t\t\t\tif(res.connected == false){\r\n\t\t\t\t\t\tthat.record = 1;\t\t\t\t\t\t\r\n\t\t\t\t\t\tthat.debounce = true;\r\n\t\t\t\t\t\tthat.$common.showToast(\"蓝牙断开\")\r\n\t\t\t\t\t\tvar App = getApp();\r\n\t\t\t\t\t\tApp.globalData.stateid = 1;\r\n\t\t\t\t\t\tthat.stateid = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//蓝牙断开连接\r\n\t\t\tcloseBle() {\r\n\t\t\t\tconsole.log(\"进入6\")\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.closeBLEConnection({\r\n\t\t\t\t\tdeviceId: that.deviceId,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tthat.record = 1;\r\n\t\t\t\t\t\tthat.debounce = true;\r\n\t\t\t\t\t\tvar App = getApp();\r\n\t\t\t\t\t\tApp.globalData.stateid = 1;\r\n\t\t\t\t\t\tthat.stateid = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n<style>\r\n\tpage {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tbackground-color: #f7f7f7;\r\n\t}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n\t.content {\r\n\t\theight: 100vh;\r\n\t\toverflow: auto;\r\n\t}\r\n\r\n\t.main-wrap {\r\n\t\twidth: 650rpx;\r\n\t\theight: auto;\r\n\t\tmargin: 295rpx auto 20rpx auto;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-direction: column;\r\n\r\n\t\t.image1 {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 259rpx;\r\n\t\t}\r\n\r\n\t\t.name {\r\n\t\t\tmargin-top: 86rpx;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tfont-family: PingFang SC;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tcolor: #999999;\r\n\t\t}\r\n\r\n\t\t.two {\r\n\t\t\twidth: 106rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 23rpx;\r\n\t\t\tmargin-top: 30rpx;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 20rpx;\r\n\t\t\t\theight: 23rpx;\r\n\t\t\t}\r\n\r\n\t\t\tview {\r\n\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\tfont-family: PingFang SC;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tcolor: #32529B;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.three {\r\n\t\t\twidth: 163rpx;\r\n\t\t\theight: 163rpx;\r\n\t\t\tmargin-top: 59rpx;\r\n\t\t\tbackground: #FFFFFF;\r\n\t\t\tbox-shadow: 0 5rpx 51rpx 0 rgba(98, 98, 98, 0.11);\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\tview {\r\n\t\t\t\ttext-align: justify;\r\n\t\t\t\twidth: 50rpx;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\tfont-size: 25rpx;\r\n\t\t\t\tfont-family: PingFang SC;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.list {\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t\ttext-align: center;\r\n\t\twidth: 50%;\r\n\t}\r\n\r\n\t.image-bottom {\r\n\t\twidth: 750rpx;\r\n\t\theight: 315rpx;\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t}\r\n</style>\n"],"sourceRoot":""}