{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/lanya/blebinding.vue?98c6","webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/lanya/blebinding.vue?aec9","webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/lanya/blebinding.vue?8f30","webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/lanya/blebinding.vue?3861","uni-app:///pages/lanya/blebinding.vue","webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/lanya/blebinding.vue?40d8","webpack:////Users/yangqinglong/Documents/zz/Y-glasses/pages/lanya/blebinding.vue?8d69"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","bluetoothStatus","newDeviceList","lyswitch","date","ipment","user_phone","mac_address","children_name","user_id","screenHeight","onLoad","onUnload","onReady","uni","success","_this","onShow","methods","mask","mitlog","key","title","icon","url","method","phone","addChildren","child_name","console","update_birthday","child_id","birthday","binding","device_type","duration","setTimeout","delta","mit","bleding","bindDateChange","searchDevice","that","connectDevice","fail","type","findBlue","allowDuplicatesKey","interval","getBlue","stopSearch"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACa;;;AAGtE;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAw0B,CAAgB,wyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC4C51B;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;IACA;IACAC;MACAC;QACA;QACAC;MACA;IACA;EACA;EACAC,2BAEA;EACAC;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACAN;QACAO;QACArB;MACA;MACAc;QACAO;QACArB;MACA;MACAc;QACAQ;QACAC;MACA;MACA;MACA;QACAC;QACAC;QACAzB;UACA0B;QACA;MACA;QACA;UACA;UACA;QACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAH;QACAC;QACAzB;UACAS;UACAmB;QACA;MACA;QACAC;QACA;UACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACAD;MACA;QACAL;QACAC;QACAzB;UACA+B;UACAC;QACA;MACA;QACA;UACA;QACA;UACA;QACA;MAEA;IACA;IACA;IACAC;MAAA;MACA;QACAT;QACAC;QACAzB;UACA+B;UACAxB;UACA2B;QACA;MACA;QACA;QACA;UACApB;UACA;UACAA;YACAQ;YACAa;UACA;UACA;UACA;UACAC;YACAtB;cACAuB;YACA;UACA;QACA;UACA;QACA;QACA;MAEA;IACA;IAEA;IACAC;MACA;QACA;MACA;QACAxB;UACAQ;QACA;QACA;MACA;IACA;IAEA;IACAiB;MACA;MACA;MACA;IACA;IACAC;MACA;MACAX;MACA;IACA;IACA;IACAY;MACA;MACAC;MACAA;IACA;IACAC;MACA;MACA7B;QACA;QACAC;UACAc;UACAa;QACA;QACAE;UACA;UACA9B;YACAQ;YACAuB;YACAtB;UACA;QACA;MACA;IACA;IACA;IACAuB;MACA;MACAhC;QACA;QACAiC;QACAC;QACAjC;UACAc;UACAa;QACA;MACA;IACA;IAIAO;MACA;MACA;MACAnC;QACAe;QACAf;UACAC;YACAc;YACAf;YACA4B;UACA;UACAE;YACAf;UACA;QACA;MACA;IACA;IACAqB;MACA;MACAR;MACA5B;QACAC;UACAc;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC7RA;AAAA;AAAA;AAAA;AAAqrC,CAAgB,qmCAAG,EAAC,C;;;;;;;;;;;ACAzsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/lanya/blebinding.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/lanya/blebinding.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./blebinding.vue?vue&type=template&id=ff219c9e&\"\nvar renderjs\nimport script from \"./blebinding.vue?vue&type=script&lang=js&\"\nexport * from \"./blebinding.vue?vue&type=script&lang=js&\"\nimport style0 from \"./blebinding.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/lanya/blebinding.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blebinding.vue?vue&type=template&id=ff219c9e&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blebinding.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blebinding.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"blename-wrap\" :style=\"{'height':screenHeight+'rpx'}\">\r\n\t\t\t<view class=\"blename-top\" v-if=\"newDeviceList != ''\"  ></view>\r\n\t\t\t<view class=\"blename\" v-for=\"(item,index) in newDeviceList\" :key=\"index\" @click=\"bleding(item)\">\r\n\t\t\t\t<view class=\"blename-neibu\">\r\n\t\t\t\t\t<view>{{item.name}}</view>\r\n\t\t\t\t\t<view>{{item.deviceId}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"mask\" v-if=\"lyswitch\" @click=\"mask()\"></view>\r\n\t\t<view class=\"bottom-frame\" v-if=\"lyswitch\">\r\n\t\t\t<view class=\"sign\">\r\n\t\t\t\t<view class=\"title\">请填写儿童姓名完成绑定</view>\r\n\t\t\t\t<view class=\"tion\">\r\n\t\t\t\t\t<view class=\"tion1\">姓名</view>\r\n\t\t\t\t\t<input class=\"tion2\" type=\"text\" v-model=\"children_name\" placeholder=\"请输入姓名\"\r\n\t\t\t\t\t\tplaceholder-style=\"font-size: 28rpx;font-family: Source Han Sans CN;font-weight: 400;color: #BBBBBB;\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tion\">\r\n\t\t\t\t\t<view class=\"tion1\">儿童生日</view>\r\n\t\t\t\t\t<picker mode=\"date\" :value=\"date\" @change=\"bindDateChange\" fields=\"day\">\r\n\t\t\t\t\t\t<view class=\"uni-input tion3\"\t>\r\n\t\t\t\t\t\t\t{{date}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tion\">\r\n\t\t\t\t\t<view class=\"tion1\">设备名称</view>\r\n\t\t\t\t\t<view class=\"tion3\">{{ipment}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button class=\"button-ion\" @click=\"mitlog()\">绑定</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"btn-wrap\">\r\n\t\t\t<button type=\"primary\" class=\"btn-wrap1\" @click=\"searchDevice\" v-if=\"bluetoothStatus == 1\">搜索设备</button>\r\n\t\t\t<button type=\"warn\" class=\"btn-wrap2\" @click=\"stopSearch\" v-if=\"bluetoothStatus == 2\" loading=\"bluetoothStatus == 2\">停止搜索</button>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tbluetoothStatus:1,\r\n\t\t\t\tnewDeviceList:[],\r\n\t\t\t\tlyswitch:false,\r\n\t\t\t\tdate: \"选择儿童生日\",\r\n\t\t\t\tipment:\"\",//设备名称\r\n\t\t\t\tuser_phone:\"\",//绑定手机号\r\n\t\t\t\tmac_address:\"\",//设备id\r\n\t\t\t\tchildren_name:\"\",//绑定姓名\r\n\t\t\t\tuser_id:\"\",//用户id\r\n\t\t\t\tscreenHeight:\"\"\r\n\t\t\t}\t\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.user_phone = option.user_phone;\r\n\t\t},\r\n\t\tonUnload(){\r\n\t\t\tthis.stopSearch();\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\t// 计算屏幕剩余高度  填补剩余高度\r\n\t\t\tlet _this = this;\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tlet windowHeight = (res.windowHeight * (750 / res.windowWidth));\r\n\t\t\t\t\t_this.screenHeight = windowHeight-120;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tmask(){\r\n\t\t\t\tthis.lyswitch = false;\r\n\t\t\t},\r\n\t\t\t// 根据手机号创建用户\r\n\t\t\tmitlog() {\r\n\t\t\t\tif (!/^1[3456789]\\d{9}$/.test(this.user_phone)) {\r\n\t\t\t\t\tthis.$common.showToast(\"手机号无效\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.children_name) {\r\n\t\t\t\t\tthis.$common.showToast(\"请输入姓名\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.date || isNaN(Date.parse(this.date)) != false){\r\n\t\t\t\t\tthis.$common.showToast(\"请选择儿童生日\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorage({\r\n\t\t\t\t\tkey: 'user_phone',\r\n\t\t\t\t\tdata: this.user_phone\r\n\t\t\t\t});\r\n\t\t\t\tuni.setStorage({\r\n\t\t\t\t\tkey: 'mac_address',\r\n\t\t\t\t\tdata: this.mac_address,\r\n\t\t\t\t});\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:\"绑定中\",\r\n\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t});\r\n\t\t\t\t//根据用户创建id\r\n\t\t\t\tthis.$http.glassesEst({\r\n\t\t\t\t\turl: \"users\",\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tphone: this.user_phone\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.status == 200) {\r\n\t\t\t\t\t\tthis.user_id = res.data.data.user_id;\r\n\t\t\t\t\t\tthis.addChildren();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$common.showToast(res.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//用户添加儿童\r\n\t\t\taddChildren() {\r\n\t\t\t\tthis.$http.glassesEst({\r\n\t\t\t\t\turl: \"children/add\",\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tuser_id: this.user_id,\r\n\t\t\t\t\t\tchild_name: this.children_name\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tconsole.log(res, \"用户添加儿童\");\r\n\t\t\t\t\tif (res.data.status == 200) {\r\n\t\t\t\t\t\tthis.children_id = res.data.data.childId\r\n\t\t\t\t\t\tthis.update_birthday();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$common.showToast(res.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tupdate_birthday(){\r\n\t\t\t\tconsole.log(this.date,\"this.date,\");\r\n\t\t\t\tthis.$http.glassesEst({\r\n\t\t\t\t\turl: \"users/update_birthday\",\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tchild_id: this.children_id,\r\n\t\t\t\t\t\tbirthday:this.date,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tif (res.data.status == 200) {\r\n\t\t\t\t\t\tthis.binding();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$common.showToast(res.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//镜腿绑定\r\n\t\t\tbinding() {\r\n\t\t\t\tthis.$http.glassesEst({\r\n\t\t\t\t\turl: \"users/device\",\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tchild_id: this.children_id,\r\n\t\t\t\t\t\tmac_address: this.mac_address,\r\n\t\t\t\t\t\tdevice_type: \"v2m\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t// this.$common.setStorage(\"children_id\",this.children_id)\r\n\t\t\t\t\tif (res.data.status == 200) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t// this.$common.showToast(\"绑定成功\");\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '绑定成功',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.stopSearch();\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tsetTimeout(() =>{\r\n\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\tdelta: 1 //返回的页面数\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$common.showToast(res.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.lyswitch = false;\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//儿童姓名\r\n\t\t\tmit() {\r\n\t\t\t\tif (!this.children_name) {\r\n\t\t\t\t\tthis.$common.showToast(\"请输入用户姓名之后,点击确定\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: \"绑定中\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.createUser();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//绑定设备\r\n\t\t\tbleding(info){\r\n\t\t\t\tthis.lyswitch = true;\r\n\t\t\t\tthis.ipment = info.name; \r\n\t\t\t\tthis.mac_address = info.deviceId;\r\n\t\t\t},\r\n\t\t\tbindDateChange:function(e) {\r\n\t\t\t\tlet str = e.detail.value;\r\n\t\t\t\tconsole.log(str,\"bindDateChange-str\");\r\n\t\t\t\tthis.date = str;\r\n\t\t\t},\r\n\t\t\t//开始搜索\r\n\t\t\tsearchDevice(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.bluetoothStatus = 2;\r\n\t\t\t\tthat.connectDevice()\r\n\t\t\t},\r\n\t\t\tconnectDevice() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.openBluetoothAdapter({\r\n\t\t\t\t\t//调用微信小程序api 打开蓝牙适配器接口\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconsole.log(\"调用微信小程序api 打开蓝牙适配器接口\");\r\n\t\t\t\t\t\tthat.findBlue();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t//如果手机上的蓝牙没有打开，可以提醒用户\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '请打开蓝牙',\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//搜索设备\r\n\t\t\tfindBlue() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.startBluetoothDevicesDiscovery({\r\n\t\t\t\t\t// services:'',  要搜索的蓝牙设备主 service 的 uuid 列表。某些蓝牙设备会广播自己的主 service 的 uuid。如果设置此参数，则只搜索广播包有对应 uuid 的主服务的蓝牙设备。建议主要通过该参数过滤掉周边不需要处理的其他蓝牙设备。\r\n\t\t\t\t\tallowDuplicatesKey: false,\r\n\t\t\t\t\tinterval: 0,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconsole.log(\"开启搜索设备\");\r\n\t\t\t\t\t\tthat.getBlue();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tgetBlue() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t//uni.getBluetoothDevices获取在蓝牙模块生效期间所有已发现的蓝牙设备。包括已经和本机处于连接状态的设备\r\n\t\t\t\tuni.onBluetoothDeviceFound(() => {\r\n\t\t\t\t\tconsole.log(\"进行设备搜索\");\r\n\t\t\t\t\tuni.getBluetoothDevices({\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tconsole.log(\"搜索到的设备\",res)\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthat.newDeviceList = res.devices;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\t\tconsole.log('搜索蓝牙设备失败');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tstopSearch(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.bluetoothStatus = 1;\r\n\t\t\t\tuni.stopBluetoothDevicesDiscovery({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconsole.log('连接蓝牙成功之后关闭蓝牙搜索');\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n\t\t.blename-wrap{\r\n\t\t\twidth: 90%;\r\n\t\t\tmargin: 20rpx auto 0 auto;\r\n\t\t\tline-height: 100rpx;\r\n\t\t\toverflow: scroll;\r\n\t\t}\r\n\t\t.blename{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100rpx;\r\n\t\t\tborder-bottom: 1rpx solid #e5e5e5;\r\n\t\t}\r\n\t\t.blename-top{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 1rpx;\r\n\t\t\tbackground-color: #e5e5e5;\r\n\t\t}\r\n\t\t.blename-neibu{\r\n\t\t\twidth: 90%;\r\n\t\t\theight: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\t\t.blename-neibu view:first-child{\r\n\t\t\tcolor: #000;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t}\r\n\t\t.blename-neibu view:last-child{\r\n\t\t\tcolor: #828282;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t}\r\n\t\t.ding{\r\n\t\t\tposition: absolute;\r\n\t\t\theight: 700rpx;\r\n\t\t\twidth: 600rpx;\r\n\t\t\tbackground-color: aqua;\r\n\t\t\ttop: 280rpx;\r\n\t\t\tleft: 75rpx;\r\n\t\t}\r\n\t\t.ding1{\r\n\t\t\tmargin: 50rpx auto 30rpx auto;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-family: Source Han Sans CN;\r\n\t\t\twidth: 100%;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t\t.bottom-frame {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 800rpx;\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\tz-index: 100;\r\n\t\t\tbackground-color: white;\r\n\t\t\tborder-top-right-radius: 15rpx;\r\n\t\t\tborder-top-left-radius: 15rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.sign {\r\n\t\t\twidth: 690rpx;\r\n\t\t\theight: 800rpx;\r\n\t\t\tbackground: #FFFFFF;\r\n\t\t\tborder-radius: 30rpx;\r\n\t\t\tmargin: 30rpx auto;\r\n\t\t\toverflow: hidden;\r\n\t\t}\r\n\t\t.title {\r\n\t\t\tmargin: 54rpx auto 0 auto;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 34rpx;\r\n\t\t\tfont-family: Source Han Sans CN;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tcolor: #333333;\r\n\t\t}\r\n\t\t\r\n\t\t.tion {\r\n\t\t\t\twidth: 600rpx;\r\n\t\t\t\theight: auto;\r\n\t\t\t\tmargin: 39rpx auto 63rpx auto;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t.tion2{\r\n\t\t\theight: 60rpx;\r\n\t\t\twidth: 600rpx;\r\n\t\t\tborder-bottom: 1px solid #DCDCDC;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tfont-family: Source Han Sans CN;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: #BBBBBB;\r\n\t\t\tmargin-top: 6rpx;\r\n\t\t}\r\n\t\t.tion3{\r\n\t\t\theight: 60rpx;\r\n\t\t\twidth: 600rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tfont-family: Source Han Sans CN;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: #BBBBBB;\r\n\t\t\tmargin-top: 6rpx;\r\n\t\t}\r\n\t\t.tion1 {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tfont-family: Source Han Sans CN;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: #333333;\r\n\t\t}\r\n\t\t.tagging {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tfont-family: Source Han Sans CN;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: #FF1E30;\r\n\t\t\tmargin-top: 23rpx;\r\n\t\t}\r\n\t\t.button-ion {\r\n\t\t\twidth: 690rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 80rpx;\r\n\t\t\tborder: 0;\r\n\t\t\tmargin: 0rpx auto;\r\n\t\t\tbackground: #ECD91D;\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t}\r\n\t\t.mask {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tbackground-color: black;\r\n\t\t\topacity: .3;\r\n\t\t}\r\n\t/* pages/device/new.wxss */\r\n\t.scroll-wrap {\r\n\t  width: 100vw;\r\n\t  height: 100vh;\r\n\t  padding: 0 30rpx;\r\n\t  padding-bottom: 150rpx;\r\n\t  box-sizing: border-box;\r\n\t}\r\n\t\r\n\t.btn-wrap {\r\n\t  position: fixed;\r\n\t  left: 0;\r\n\t  bottom: 0;\r\n\t  width: 100vw;\r\n\t  height: 100rpx;\r\n\t  display: flex;\r\n\t  align-items: center;\r\n\t  justify-content: center;\r\n\t}\r\n\t.btn-wrap button{\r\n\t\twidth: 300rpx;\r\n\t\theight: 70rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tline-height: 70rpx;\r\n\t}\r\n\t\r\n\tuni-picker-view {\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\tuni-picker-view .uni-picker-view-wrapper {\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\theight: 100%;\r\n\t\tbackground-color: white;\r\n\t}\r\n\t\r\n\tuni-picker-view[hidden] {\r\n\t\tdisplay: none;\r\n\t}\r\n\t\r\n\tpicker-view {\r\n\t\twidth: 100%;\r\n\t\t// height: 600upx;\r\n\t\theight: 400rpx;\r\n\t\tmargin-top: 20upx;\r\n\t}\n</style>","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blebinding.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blebinding.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1678351217077\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}